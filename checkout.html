<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart</title>
</head>
<body>
  <h1>Shopping Cart</h1>
  <ul id="cart-items">
    <!-- Cart items will be dynamically inserted here -->
  </ul>
  <div id="total">Total: $0</div>
  <button onclick="checkout()">Pay Now</button>
  
  <script>
    function renderCart() {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let total = 0;
      let cartItems = document.getElementById('cart-items');
      cartItems.innerHTML = '';
      cart.forEach(item => {
        total += item.price;
        cartItems.innerHTML += `<li>${item.item} - $${item.price}</li>` + buttonCreation();
      });

      document.getElementById('total').innerText = `Total: $${total}`;
    }

    function checkout() {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let total = 0;
      let itemList = cart.map(item => `${item.item} - $${item.price}`).join('\n');
      alert(`Items Bought:\n${itemList}`);
      // Clear the cart after checkout
      localStorage.removeItem('cart');
      renderCart(); // Update the cart display
      var fulltotal = localStorage.getItem("fulltotalests");
      fulltotal = 0;
      localStorage.setItem("fulltotalests", fulltotal);

      var fullorderlist = localStorage.getItem("fullorderList");
      fullorderlist = "";
      localStorage.setItem("fullorderList", fullorderlist);
    }

    window.onload = renderCart();
  </script>
</body>
</html>